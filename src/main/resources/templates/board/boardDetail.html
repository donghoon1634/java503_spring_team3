<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
            integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
            crossorigin="anonymous"></script>
    <title>Title</title>
    <!--    댓글관련 style-->
    <style>
        /* 기본 글자색은 회색 */
        .btn-custom {
            color: gray;
        }

        /* 글자 굵게 만들기 */
        .font-bold {
            font-weight: bold;
            color: black;
        }
    </style>
    <!--    게시물관련-->
    <style>
        /*.row > * {*/
        /*    width: inherit;*/
        /*}*/

        input {
            border: inherit
        }

        .small-text {
            font-size: 0.8rem; /* 작은 글씨 크기 */
            color: #6c757d; /* 회색으로 표시 */
            display: block; /* 줄바꿈을 위해 블록 요소로 처리 */
            margin-top: 0.25rem; /* 약간의 여백 추가 */
        }

        #cate {
            color: gray;
            border: 1px none;
            background-color: lightgray;
            height: 20px;
            width: 54px;
            margin-left: 12px;
            font-size: 12px;
        }

        #contents {
            border: none;
        }

        #likes {
            padding-right: 2px;
        }

    </style>
    <script>
        $(document).ready(function () {
            $("#btn-list").on("click", function () {
                history.back();
            });
        });

        // 댓글추천
        $("#ulCommentLike").on("click", function () {
            var number = $("#ulCommentIdx").val();
            var sendDate = {ulCommentIdx: ulCommentIdx};
            $.ajax({
                url: "/ulComment/like",
                type: "POST",
                data: sendDate,
                success: function (data) {
                    if (data > 0) {
                        $("#likeUlComment").text(data);
                    }
                }
            });
        });
    </script>

</head>
<body>
<main class="container mt-5">
    <section>
        <!--        <form id="frm" method="post">-->
        <input type="hidden" id="method" name="_method">
        <!--      글번호, 제목, 조회수 -->
        <!--        <div class="row mt-3 text-center" >-->
        <!--            <input type="text" id="idx" name="idx" placeholder="글번호" readonly th:value="${board.idx}">-->
        <!--            <label for="idx"></label>-->
        <!--        </div>-->
        <div class="row mt-3">
            <input type="text" id="ulCate" name="ulCate" placeholder="카테고리" th:value="${ul.ulCate}" readonly>
            <label for="ulCate"></label>
        </div>
        <div class="row mt-3">
            <div class="col-sm">
                <input type="text" id="ulNickname" name="ulNickname" placeholder="닉네임" readonly
                       th:value="${ul.ulNickname}">
                <label for="ulNickname"></label>
                <div class="col-sm">
                    <input class="small-text" type="text" id="ulPlace" name="ulPlace" placeholder="위치" readonly
                           th:value="${ul.ulPlace}">
                    <label for="ulPlace"></label>
                </div>
            </div>
            <div class="col-sm ">
                <button type="button" class="btn btn-danger me-2" id="btn-delete">삭제</button>
                <button type="button" class="btn btn-warning" id="btn-update">수정</button>
            </div>

        </div>

        <!--      글 내용-->
        <div class="row mt-3">
            <div class="col-sm">
                <div class="form">
                    <textarea id="ulContents" name="ulContents" rows="10" placeholder="글 내용" style="height: 250px;"
                              th:text="${ul.ulContents}"></textarea>
                    <label for="ulContents"></label>
                </div>
            </div>
        </div>
        <!--        추천수-->
        <div class="row">
            <div class="col-sm-1">
                <img src="/img/good.png" width="22px" height="22px" alt="" id="ulLikes" name="ulLikes" readonly
                     th:value="${ul.ulLikes}">
                <label for="ulLikes"></label>
            </div>
            <!--            댓글-->
            <!--            <div class="col-sm ">-->
            <!--                <img src="/img/commu.png" width="22px" height="22px" alt=""  id=""  name="likes"-->
            <!--                     readonly th:value="${ul.likes}">-->
            <!--                <label for=""></label>-->
            <!--            </div>-->
            <!--        </div>-->
            <!--      목록, 삭제, 수정 버튼 -->
            <!--        <div class="row mt-3">-->
            <!--            <div class="col-sm">-->
            <!--                <button type="button" class="btn btn-secondary" id="btn-list">목록</button>-->
            <!--            </div>-->
            <!--        </div>-->
        </div>
    </section>
    <hr>
    <!--             댓글 위치-->
    <!--    <section th:replace="~{/layout/comment :: comment(${comments})}"> replace로 할경우    </section>-->
    <section>
        <div>
            <!--            <h3>댓글</h3>-->
            <div>
                <button id="sortOldestFirst" class="btn btn-light text-muted">등록순</button>
                <button id="sortNewestFirst" class="btn btn-light text-muted">최신순</button>
            </div>
            <!--        댓글 목록-->
            <div id="commentsList">
                <div th:each="comment : ${ulcomment}">
                    <div class="comment">
                        <p type="hidden" id="commentIdx" name="commentIdx"
                           th:value="${comment.ulCommentIdx}"></p>
                        <p><strong th:text="${comment.ulCommentNickname}"></strong></p>
                        <p class="text-muted">
                            <span th:text="${comment.ulCommentLocation}"></span>
                            <span th:text="${comment.ulCommentcreatedate}"></span>
                        </p>
                        <p><strong th:text="${comment.ulCommentContents}"></strong></p>
<!--                        <div class="col-sm-1">-->
<!--                            <img src="/img/good.png" width="22px" height="22px" alt="댓글추천" id="ulCommentLike" name="ulCommentLike" readonly-->
<!--                                 th:text="${comment.ulCommentLike}">-->
<!--                            <label for="ulCommentLike"></label>-->
<!--                        </div>-->
                        <div class="col-sm-1">
                            <img src="/img/good.png" style="width:22px; height: 22px;" class="btn" alt="댓글추천" id="ulCommentLike">
                            <span id="likeUlComment" th:text="${comment.ulCommentLike}">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!--        댓글 작성-->
            <!--            board_idx, nickname, comment_content, create_date, location-->
            <div class="mt-3">
                <form action="/board/add" method="post" enctype="multipart/form-data"></form>
                <div class="row">
                    <div class="col-sm-2">
                        <label for="ulCommentIdx" class="form-label">게시물번호 </label>
                        <input type="text" class="form-control" id="ulCommentIdx" name="ulCommentIdx"
                               placeholder="없어질칸">
                    </div>
                    <div class="col-sm-2">
                        <label for="ulCommentNickname" class="form-label">닉네임 </label>
                        <input type="text" class="form-control" id="ulCommentNickname" name="ulCommentNickname"
                               placeholder="없어질칸">
                    </div>
                    <div class="col-sm-2">
                        <label for="ulCommentLocation" class="form-label">장소 </label>
                        <input type="text" class="form-control" id="ulCommentLocation" name="ulCommentLocation"
                               placeholder="없어질칸">
                    </div>
                </div>
                <div>
                            <textarea class="form-control" name="ulCommentContents" id="ulCommentContents" rows="3"
                                      placeholder="댓글을 입력하세요."></textarea>
                </div>
                <button id="submitComment" class="btn btn-primary mt-2">댓글 작성</button>
            </div>
        </div>
        <script>
            // 버튼 클릭 시 스타일 변경
            document.getElementById("sortOldestFirst").addEventListener("click", function () {
                // 등록순 버튼 클릭 시 스타일 변경
                this.classList.add("font-bold"); // 등록순 버튼은 굵게
                this.classList.remove("btn-custom"); // 회색 글자 제거

                // 최신순 버튼은 기본 상태로 되돌리기
                document.getElementById("sortNewestFirst").classList.remove("font-bold");
                document.getElementById("sortNewestFirst").classList.add("btn-custom");
            });

            document.getElementById("sortNewestFirst").addEventListener("click", function () {
                // 최신순 버튼 클릭 시 스타일 변경
                this.classList.add("font-bold"); // 최신순 버튼은 굵게
                this.classList.remove("btn-custom"); // 회색 글자 제거

                // 등록순 버튼은 기본 상태로 되돌리기
                document.getElementById("sortOldestFirst").classList.remove("font-bold");
                document.getElementById("sortOldestFirst").classList.add("btn-custom");
            });

        </script>
    </section>


    <hr>
    <section>
        <h2><b>문현제2동 인기글</b></h2>

    </section>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</main>
</body>
</html>